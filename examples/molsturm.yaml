---
# Checkout all repos required to compile molsturm

# Some header data:
version: "1.0"

# Possible sources for the projects:
sources: 
        # format:
        #    name: displayed name
        #    type: svn or git
        #    path_pattern: The pattern which gives the location of the repository root.
        #                  The following variables are substituted:
        #                             PROJECT:   by name of the project
        #                             BRANCH:    by the path that directs a request to the appropriate branch
        #                                        (eg branches/name for svn)
        #    description: A short description

        - &github_lawrap !Source
                name: github_lawrap
                type: git
                path_pattern: "https://github.com/linalgwrap/${PROJECT}.git"
                description: "Linalgwrap project on github"

        - &hd_git !Source 
                name: hd_git
                type: git
                path_pattern: "ssh://gitte@ccsvn.iwr.uni-heidelberg.de:42022/${PROJECT}.git"
                description: "The ccsvn server in Heidelberg (Dreuw) with git"

# Project policies for the projects below
# Many projects usually are checked out / built in the same manor, 
# e.g. using the same source tree conventions, ... 
# The checkout policies allow to specify some defaults for all these projects at once
project_policies:
        - &hd_progs !ProjectPolicy
                name: hd_progs
                description: Libraries and Projects from Heidelberg (Dreuw)
                branch:                     # default branch to use --- if not present: master(for git) or trunk(for svn)
                source: *hd_git
                #configure: "./configure"   # cmake or script relative to top of project with its options  #TODO implement this option
                
        - &github_lawrap_progs !ProjectPolicy
                name: github_lawrap_progs
                description: Libraries and projects from github user linalgwrap
                branch:
                source: *github_lawrap
                #configure: "./configure"   # cmake or script relative to top of project with its options  #TODO implement this option

projects: 
        - &linalgwrap !Project
                name: linalgwrap                      # The name of the project
                project_policy: *github_lawrap_progs  # The checkout policy to use
                dependencies:                         # per default none
                branch:                               # use a different branch that the one given in the project policy
                is_enabled: True                      # is the project enabled: Per default yes

        - &sturm !Project
                name: sturm
                project_policy: *hd_progs
                dependencies: 
                        - *linalgwrap

        - &gint !Project
                name: gint
                project_policy: *hd_progs
                dependencies: 
                        - *linalgwrap
                        - *sturm

        - &gscf !Project
                name: gscf
                project_policy: *hd_progs
                dependencies: 
                        - *linalgwrap
                        - *gint

        - &molsturm !Project
                name: molsturm
                project_policy: *hd_progs
                dependencies: 
                        - *linalgwrap
                        - *gscf

# The project we actually want to configure and build by default:
default_projects: 
        - *molsturm

...
